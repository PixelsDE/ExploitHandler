package de.carina.exploit;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;

public class MainGUI {
    private JButton SendButton;
    private JScrollPane DisplayTextScrollPane;
    private JLabel TitleLabel;
    public JPanel SystemPanel;
    private JTextField UserTextField;
    public JTextArea SystemTextArea;
    private String OutputText;
    public static boolean UserAuthLoginSystem = false;
    public JFrame loginFrame;

    public LoginGUI LoginGUI;

    private void createLoginGUI() {
        loginFrame = new JFrame("System Login-Pannel");
        loginFrame.setContentPane(LoginGUI.LoginGUIPanel);
        loginFrame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);
        loginFrame.pack();
        loginFrame.setSize(500, 250);
        loginFrame.setVisible(true);
        loginFrame.setFocusable(true);
    }

    public MainGUI() throws Exception {
        LoginGUI = new LoginGUI();
        createLoginGUI();
            DisplayTextScrollPane.createHorizontalScrollBar();
            DisplayTextScrollPane.createVerticalScrollBar();
            DisplayTextScrollPane.setWheelScrollingEnabled(true);
            DisplayTextScrollPane.getViewport().add(SystemTextArea);
            UserTextField.addKeyListener(keyAdapter);
            SendButton.addActionListener(actionListener_button);
            UserTextField.addActionListener(actionListener_textfield);
    }

    private KeyAdapter keyAdapter = new KeyAdapter() {
        @Override
        public void keyTyped(KeyEvent e) {
            Robot robot = null;
            try {
                robot = new Robot();
            } catch (AWTException awtException) {
                awtException.printStackTrace();
            }
            robot.keyPress(KeyEvent.VK_ENTER);
            OutputText = UserTextField.getText();
        }
    };

    private ActionListener actionListener_button = new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent e) {
            UserTextField.setText(null);
            Main.mainClass.writerClass.write(Main.mainClass.writer, OutputText);
        }
    };

    private ActionListener actionListener_textfield = new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent Aufruf) {
            OutputText = UserTextField.getText();
        }
    };
}
